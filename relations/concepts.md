## 有序偶

关系由元素的有序偶(a, b)来定义，这里a作为第一元素，b为第二元素。

特别地，(a, b) = (c, d) 当且仅当a = c 且 b = d。

## 集合的积（笛卡尔积）

对于任意两个集合A，B，称所有有序偶(a, b)的集合为A，B的积或笛卡尔积，其中 a ∈ A，b ∈ B。
A，B的积记作 A × B。

A × B = {(a, b): a ∈ A 且 b ∈ B}

A × A 通常也记作 A^2。

### 笛卡尔平面

R表示实数集，R^2可以表示平面上的点的集合，R^2常称为笛卡尔平面。

### 规律

  - A × B ≠ B × A
  - card(A × B) = card(A) * card(B)

### 集合积的推广

集合积的概念可以推广到任意有限多个集合，对于任意的集合 A1, A2, ..., An，
称全体n元有限组(a1, a2, ..., an)的集合为 A1, A2, ..., An 的积，记作：

A1 × A2 × ... × An 或：

$$
\prod_{i=1}^{i=n} A_{i}
$$

## 关系

**定义** 设A，B为集合，A×B的任一子集称为从A到B的一个二元关系或者简称关系。

假定R是从A到B的一个关系，则R是一个有序偶的集合，在每个有序偶中，第一个元素
来自A而第二元素来自B，即对于每一对a ∈ A 和 b ∈ B，下列两种情况恰具其一：
    1. (a, b) ∈ R，称 a 与 b 之间具有关系R，记作 aRb；
    2. (a, b) ∉ R，称 a 与 b 之间不具有关系R，记作 aꞦb；

如果R是集合A到自身的一个关系，即 R 是 A^2 的一个子集，则称 R 是 A 上的一个关系。

R的定义域是属于R的有序偶的第一元素的集合，而称所有第二元素的集合为R的值域。

### 相等关系

设A为任一集合A上的一个重要关系为相等：

{(a, a): a ∈ A}

通常记作“=”。这个关系也称为集合A上的恒等或者对角线关系。记作Δ_A或简记为Δ。

### 完全关系和空关系

设A为任一集合，则 A × A 和 ∅ 都是 A × A 的子集，因而也都是上A上的关系，分别称为完全关系和空关系。

## 逆关系

设R为从集合A到B的任意一个关系，R的逆，记作 R^-1，是将R中的所有有序偶逆转后的有序偶的集合，
是一个从B到A的关系，即：

R^-1 = {(b, a): (a, b) ∈ R}

## 关系的图示

通常，一个关系由满足某给定方程

E(x, y) = 0

的有序实数偶构成。通常将该关系与这个方程等同。
称E(x, y) = 0 为关系。

### 有限集上关系的图示

设A，B为有限集，下面给出图示A到B的关系R的两种方法。

  * 构造一个矩阵，以A的元素和B的元素分别标注其行与列，对于a ∈ A和b ∈ B，视a，b是否具有关系R，在a行和b列交叉处标上1或0.
    这样得到的矩阵称为**关系矩阵**。
  * 在两个不相交的碟形区域中分别写下A和B的元素，当a，b具有关系R时，则画一个从a到b的箭头。
    这样得到的图示称为关系的**箭头图**。

### 集上关系的有向图

当R为有限集到自身的关系时，可以用另一种方法给出R的图示，先写下给定集合的元素，对于每一个元素x，如果x与元素y之间具有关系R，
我们就画一个自x到y的箭头，这样得到的图形称为关系的**有向图**。

## 关系的合成

设A，B，C为集合，且R为从A到B的一个关系，S为从B到C的一个关系，即R为A × B的子集，
则由R和S决定了从A到C的一个关系，记作 R*S。定义为：

a(R * S)c 如果对于某b ∈ B 我们有aRb且bSc，

即

R * S = {(a, c): 存在 b ∈ B 使得(a, b) ∈ R且(b, c) ∈ S}


### 关系的合成与矩阵

设 M_R 和 M_S 分别表示关系R和S的矩阵，则将 M_R 与 M_S，得矩阵M = M_R * M_S。
这个矩阵中的非零元素表示其所对应的元素具有关系。

### 定理2.1

设A，B，C，D为集合，假定R为从A到B的关系，S为从B到C的关系，T为从C到D的关系，则：

(R * S) * T = R * (S * T)

## 典型关系

### 自反关系

集合A上的关系R称为自反的，如果对于每个a ∈ A，总有aRa，即如果对每个a ∈ A， (a, a) ∈ R.

因此，如果存在a ∈ A，使得(a, a) ∉ R，则R不是自反的。

### 对称和反对称关系

**对称** 集合A上的关系R称为是对称的，如果由 aRb 必可推出 bRa，即只要 (a, b) ∈ R，则(b, a) ∈ R。
于是，如果存在 a, b ∈ A，使得 (a, b) ∈ R，但 (b, a) ∉ R，则R是不对称的。

常见的对称关系：垂直，平行，相等。

**反对称** 集合A上的关系R称为是反对称的，如果aRb且bRa则必有a=b，即只要(a, b), (b, a) ∈ R，就有 a = b。
于是，如果存在 a，b ∈ A 使得 (a, b) 与 (b, a) 都属于 R，但 a ≠ b，则R是不对称的。

常见的反对称关系：大于等于，小于等于，等于，整除（对于正整数）。

### 传递关系

集合A上的关系R称为是传递的，如果aRb 且bRc，则有aRc，即只要(a, b)，(b, c) ∈ R 就必有(a, c) ∈ R。
于是，如果存在 (a, b)，(b, c) ∈ R，但(a, c) ∉ R，则 R 不是传递的。

#### 定理2.2

一个关系R是传递的，当且仅当对于 n >= 1 有 R^n ⊆ R。

## 闭包性质

对于给定的集合A，考虑其上所有关系构成的集族，设℘为这些关系的一个性质，比如对称或者传递着等等，
我们将具有 性质℘ 的关系称为一个 ℘- 关系。集合A上关系R的℘-闭包是一个℘-关系，满足对每个包含R的 ℘- 关系S有：

R ⊆ ℘(R) ⊆ S

R 的闭包记作 ℘(R)。对于自反，对称，传递关系R，记：

reflexive(R), symmetric(R), transitive(R)

分别表示其闭包。

一般地，℘(R) 未必存在，但是在某些条件下，℘(R) 总是存在的。
假设 ℘ 是一个性质，至少存在一个包含 R 的 ℘- 关系，而且任意 ℘- 关系的交仍然是一个 ℘- 关系。则可证明：

℘(R) = ∩ {S: S 是 ℘- 关系，且 R ⊆ S}

### 自反闭包和对称闭包

记 Δ(A) = {(a, a): a ∈ A }

**定理 2.3** 设 R 为集合 A 上的一个关系，则：
    1. R ∪ Δ(A) 为 R 的自反闭包；
    2. R ∪ R^-1 为 R 的对称闭包；

### 传递闭包

设 R 为集合 A 上的一个关系，定义：

$$
R^* = \prod_{i=i}^{\infty} R^i
$$

**定理2.4**

R^n 是关系R的传递空包，设A为含有n个元素的有限集，则：

$$
R^* = R_1 \cup R_2 \cup \ldots \cup R_n
$$

**定理2.5**

设R为含n个元素的有限集A上的一个关系，则：
$$
transitive(R) = R \cup R^2
$$

## 等价关系

设 S 为非空集合，R 是 S 上的一个关系，如果 R 是自反的，对称的和传递的，则称 R 为一个等价关系；
即 S 上的关系 R 称为等价关系，如果 R 满足下列三条性质：

    1. 对每个 a ∈ S，有 aRa；
    2. 如果 aRb，则 bRa；
    3. 如果 aRb 且 bRc，则 aRc；

**常见的等价关系**：
    1. 对于欧氏平面上的直线集合L，平行是L上的一个等价关系；
     对于欧氏平面上的三角形T，全等与相似均为T上的等价关系。
    2. 正整数的 模m同余 是一个等价关系。

### 等价关系与集合的划分

假定R是集合S上的一个等价关系，对于每个 a \in R，设[a]表示与a具有关系R的S中的元素的集合，即：

[a] = {x: (a, x) \in R}

我们称[a]为元素a在S中的等价类。任意 b \in [a]称为该等价类的代表。

在关系R下，集合S的所有元素的等价类构成的集族记作S/R，即：
$$
S/R = \{ [a]: a \in R \}
$$
称为S关于R的商集。商集的基本性质由下面的定理给出：

**定理2.6** 设R是集合S上的一个等价关系，则商集S/R是S的一个划分，特别地，

  * 对于每个a \in S，有 a \in [a]

  * [a] = [b]当且仅当(a, b) \in R

  * 若[a] \neq [b]，则[a]与[b]不交

    反之，给定集合S的一个划分{A_i}，则存在S上的一个等价关系R，使得A_i是关于R的等价类。

## 偏序关系

R 为集合 S 上的一个关系，如果R是*自反*的，*反对称*的及*可传递*的，则R称为一个**偏序**。

集合S与偏序关系R一起，称为一个**偏序集**。

## n元关系

n元关系，是指一个n元有序组的集合，对于任意的集合S，积集S^n 的子集称为S上的一个n元关系。
特别地，S^3的子集称为S上的三元关系。
